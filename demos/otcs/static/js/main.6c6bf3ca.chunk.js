(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(3),l=n.n(a),c=n(1),i=n(4),u=n(5),s=n(7),d=n(6),h=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).createPopup=function(){var t=e.props,n=t.url,o=t.title,r=t.width,a=t.height,l=t.onCode,c=window.screenX+(window.outerWidth-r)/2,i=window.screenY+(window.outerHeight-a)/2.5;e.externalWindow=window.open(n,o,"width=".concat(r,",height=").concat(a,",left=").concat(c,",top=").concat(i)),e.codeCheck=setInterval(function(){try{var t=new URL(e.externalWindow.location).searchParams,n=t.get("code");if(!n)return;clearInterval(e.codeCheck),l(n,t),e.externalWindow.close()}catch(o){}},20),e.externalWindow.onbeforeunload=function(){e.props.onClose(),clearInterval(e.codeCheck)}},e}return Object(u.a)(n,[{key:"render",value:function(){return o.createElement("div",{onClick:this.createPopup}," ",this.props.children," ")}},{key:"componentWillUnmount",value:function(){this.externalWindow&&this.externalWindow.close()}}]),n}(o.PureComponent);h.defaultProps={onClose:function(){},width:500,height:500,url:"",title:""},localStorage.getItem("url")||localStorage.setItem("url","http://(enter server url here):8002/otdsws/login");var p=function(e){var t=Object(o.useState)(localStorage.getItem("url")),n=Object(c.a)(t,2),a=n[0],l=n[1],i=Object(o.useState)(""),u=Object(c.a)(i,2),s=u[0],d=u[1],p=null,w=null;try{p=new URL(localStorage.getItem("url")+"?"+new URLSearchParams({client_id:"test_2",scope:"resource:Content+Server",response_type:"code",redirect_uri:"https://xstos.github.io/demos/otcs/index.html",code_challenge:"NSAwrZ0kmgyBeb3VsPdECogO1_nGjnKVy6Q_vA3rxzQ",code_challenge_method:"S256"}))}catch(m){w=m}return r.a.createElement("div",{className:"App"},r.a.createElement("span",null,"url:"),r.a.createElement("input",{style:{width:"90%"},onChange:function(e){var t=e.target.value;localStorage.setItem("url",t),l(t)},value:a}),r.a.createElement(h,{url:p,onCode:d,onClose:function(e){}},r.a.createElement("button",null,"Click to Login")),r.a.createElement("span",null,"returned token:"),r.a.createElement("br",null),r.a.createElement("textarea",{style:{width:"90%",height:"300px"},value:w||s,rows:5,cols:5}))};l.a.render(r.a.createElement(p,null),document.getElementById("root"))},8:function(e,t,n){e.exports=n(13)}},[[8,1,2]]]);
//# sourceMappingURL=main.6c6bf3ca.chunk.js.map
